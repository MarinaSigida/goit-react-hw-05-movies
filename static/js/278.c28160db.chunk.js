"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[278],{481:function(e,t,r){r(791);var n=r(689),u=r(87),c=r(184);t.Z=function(e){var t=e.item,r=(0,n.TH)();return(0,c.jsx)("li",{children:(0,c.jsx)(u.rU,{to:"/movies/".concat(t.id),state:{from:r},children:t.original_name||t.original_title})})}},278:function(e,t,r){r.r(t);var n=r(433),u=r(439),c=r(791),a=r(481),i=r(919),o=r(87),s=r(545),f=r(184);t.default=function(){var e=(0,c.useState)(""),t=(0,u.Z)(e,2),r=t[0],l=t[1],h=(0,c.useState)([]),p=(0,u.Z)(h,2),m=p[0],v=p[1],d=(0,o.lr)(""),x=(0,u.Z)(d,2),g=x[0],j=x[1],b=(0,c.useState)(!1),k=(0,u.Z)(b,2),y=k[0],w=k[1];return(0,c.useEffect)((function(){var e=g.get("query");e&&s.C("3/search/movie?query=".concat(e,"&")).then((function(e){0===e.results.length?w(!0):w(!1),v((0,n.Z)(e.results))})).catch((function(e){return console.log(e)}))}),[g]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===r.trim())return i.Notify.warning("Write a request!");j({query:r}),l("")},children:[(0,f.jsx)("input",{type:"text",name:"searchMovie",value:r,onChange:function(e){return l(e.currentTarget.value)}}),(0,f.jsx)("button",{children:"Search"})]}),(0,f.jsx)("ul",{children:m.map((function(e){return(0,f.jsx)(a.Z,{item:e},e.id)}))}),y?(0,f.jsxs)("p",{children:['There are no movies with the name "',g.get("query"),'".']}):null]})}},545:function(e,t,r){r.d(t,{C:function(){return o}});var n=r(861),u=r(687),c=r.n(u),a=r(7),i=r.n(a),o=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.themoviedb.org/").concat(t,"api_key=").concat("35c7611c7985bed0f4b3c6955520cac4"));case 2:if(!(r=e.sent).ok){e.next=5;break}return e.abrupt("return",r.json());case 5:return e.next=7,Promise.reject(new Error("error"));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();o.propTypes={query:i().string.isRequired}}}]);
//# sourceMappingURL=278.c28160db.chunk.js.map